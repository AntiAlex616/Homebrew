<?xml version="1.0" encoding="utf-8" ?>
<elements>
  <info>
    <name>Keyblade Wielder</name>
	<description>The Keyblade Wielder class created for a Kingdom Hearts inspired campaign.</description>
	  <author>AntiAlex</author>
	  <update version="0.5.1">
	    <file name="Keyblade-Wielder.xml" url="https://raw.githubusercontent.com/AntiAlex616/Homebrew/master/KHCore/Classes/Keyblade-Wielder.xml" />
	  </update>
  </info>
  
  <element name="Keyblade Wielder" type="Class" source="KH" id="ID_KH_CLASS_KEYBLADE_WIELDER">
    <description>
	  <p>Keyblade Wielders are chosen by their Keyblades for their strong hearts.</p>
	  <h4>CREATING A KEYBLADE WIELDER</h4>
	  <p>A Keyblade Wielder is trained to protect Kingdom Hearts. This is done primarily by using the Keyblade, a powerful weapon with a heart of it's own.</p>
	  <h5>QUICK BUILD</h5>
	  <p>First, you should pick Strength followed by either Constitutionor Wisdom depending on how you would like to play your character.</p>
	  <h3>CLASS FEATURES</h3>
	  <p>As a Keyblade Wielder you gain the following class features.</p>
	  <h5>HIT POINTS</h5>
	  <p>
	    <span class="emphasis">Hit Dice:</span>1d6 per Keyblade Wielder level<br/>
		<span class="emphasis">Hit Points at 1st Level:</span>6 + Constitution modifier<br/>
		<span class="emphasis">Hit Points at Higher Levels:</span>1d6 (or 4) + your Constitution modifier per Keyblade Wielder level after 1st<br/>
	  </p>
	  <h5>PROFICIENCIES</h5>
	  <p>
	    <span class="emphasis">Armor:</span>Light armor<br/>
        <span class="emphasis">Weapons:</span>Keyblades<br/>
        <span class="emphasis">Tools:</span>None<br/>
	  </p>
	  <p>
        <span class="emphasis">Saving Throws:</span>Strength<br/>
        <span class="emphasis">Skills:</span>Choose two from Acrobatics, Athletics, History, Medicine, Nature, Perception, and Religion<br/>
      </p>
	  <h5>EQUIPMENT</h5>
      <p>You start with the following equipment, in addition to the equipment granted by your background:</p>
      <ul>
        <li>a Keyblade</li>
        <li>(a) a leather armor or (b) padded armor</li>
        <li>(a) a dungeoneer's pack or (b) an explorer’s pack</li>
      </ul>
	    <div element="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_SPELLCASTING" />
      <div element="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_PATH" />
      <div element="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_RECHARGE" />
      <div element="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_ADDITIONAL_ATTACK" />
      <div element="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_ABILITY_SCORE_IMPROVEMENT_KEYBLADE_WIELDER" />
      <div element="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_HEARTS_RELEASE" />
    </description>
    <sheet display="false">
      <description>A spellcaster who draws on inherent magic from a gift or bloodline.</description>
    </sheet>
    <setters>
      <set name="short">A spellcaster who draws on inherent magic from a gift or bloodline.</set>
      <set name="hd">d6</set>
      <set name="spellcaster">true</set>
      <set name="spellcastingAbility">Charisma</set>
    </setters>
    <rules>
      <!-- <grant type="Grants" id="ID_INTERNAL_GRANTS_AVERAGE_HP_D6" /> -->
      <grant type="Proficiency" id="ID_PROFICIENCY_WEAPON_PROFICIENCY_KEYBLADE" requirements="!ID_KH_MULTICLASS_KEYBLADE_WIELDER"/>
      <grant type="Proficiency" id="ID_PROFICIENCY_WEAPON_PROFICIENCY_QUARTERSTAFF" requirements="!ID_KH_MULTICLASS_KEYBLADE_WIELDER"/>
      <grant type="Proficiency" id="ID_PROFICIENCY_SAVINGTHROW_CONSTITUTION" requirements="!ID_KH_MULTICLASS_KEYBLADE_WIELDER"/>
      <grant type="Proficiency" id="ID_PROFICIENCY_SAVINGTHROW_STRENGTH" requirements="!ID_KH_MULTICLASS_KEYBLADE_WIELDER"/>
      <select type="Proficiency" name="Skill Proficiency (Keyblade Wielder)" supports="Skill, Keyblade Wielder" number="2" requirements="!ID_KH_MULTICLASS_KEYBLADE_WIELDER"/>

      <!-- equipment -->

      <grant type="Class Feature" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_SPELLCASTING" level="1" />
      <grant type="Class Feature" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_PATH" level="1"/>
      <grant type="Class Feature" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_RECHARGE" level="3" />
      <grant type="Class Feature" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_ADDITIONAL_ATTACK" level="5" />
      <grant type="Class Feature" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_ABILITY_SCORE_IMPROVEMENT_KEYBLADE_WIELDER" level="4" />
      <grant type="Class Feature" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_HEARTS_RELEASE" level="20" />
    </rules>
    <multiclass id="ID_KH_MULTICLASS_KEYBLADE_WIELDER">
      <prerequisite>Charisma 13</prerequisite>
      <requirements>[cha:13]</requirements>
      <setters>
        <set name="multiclass proficiencies">—</set>
      </setters>
      <rules>
        <grant type="Grants" id="ID_INTERNAL_GRANT_MULTICLASS" />
      </rules>
    </multiclass>
  </element>
	<!-- keyblade wielder Class Features -->
  <element name="Spellcasting" type="Class Feature" source="KH" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_SPELLCASTING">
    <supports>ID_INTERNAL_SUPPORT_SPELLCASTING,Keyblade Wielder</supports>
    <requirements />
    <description>
      <p>You've trained since a young age to not only master a Keyblade but to use magic to aid you in your adventures.</p>
      <h5>CANTRIPS</h5>
      <p>Is this needed? Could be used for abilities? Sonic Blade, Ragnarok etc.</p>
      <h5>SPELL SLOTS</h5>
      <p>The table shows how many spell slots you have to cast your spells of 1st level and higher. To cast one of these spells, you must expend a slot of the spell’s level or higher. You regain all expended spell slots when you finish a long rest.</p>
      <p class="indent">For example, if you know the 1st-level spell Fire and have a 1st-level and a 2nd-level spell slot available, you can cast Fire using either slot.</p>
      <h5>SPELLS KNOWN OF 1ST LEVEL AND HIGHER</h5>
      <p>You know two 1st-level spells of your choice from the Keyspells spell list.</p>
      <p class="indent">The Spells Known column of the Keyspells table shows when you learn more Keyspells spells of your choice. Each of these spells must be of a level for which you have spell slots.</p>
      <p class="indent">Additionally, when you gain a level in this class, you can choose one of the Keyspells you know and replace it with another spell from the Keyspells spell list, which also must be of a level for which you have spell slots.</p>
      <h5>SPELLCASTING ABILITY</h5>
      <p>Charisma is your spellcasting ability for your Keyspells, since the power of your magic relies on your ability to project your will into the world. You use your Charisma whenever a spell refers to your spellcasting ability. In addition, you use your Charisma modifier when setting the saving throw DC for a Keyspell you cast and when making an attack roll with one.</p>
      <p class="indent">Spell save DC = 8 + your proficiency bonus + your Charisma modifier</p>
      <p class="indent">Spell attack modifier = your proficiency bonus + your Charisma modifier</p>
      <h5>SPELLCASTING FOCUS</h5>
      <p>A Keyblade, or any weapon enhanced with a Keychain, can be used as a spellcasting focus for all kinds of spells.</p>
    </description>
    <sheet display="false">
      <description>You have the ability to cast spells.</description>
    </sheet>
    <setters>
      <set name="spellcastingClass">Keyblade Wielder</set>
      <set name="spellcastingAbility">Charisma</set>
    </setters>
    <spellcasting name="Keyblade Wielder" ability="Charisma" allowReplace="true">
      <list>Keyspells</list>
    </spellcasting>
    <rules>
      <grant type="Grants" id="ID_INTERNAL_GRANT_MULTICLASS_SPELLCASTING_SLOTS_FULL" requirements="ID_INTERNAL_GRANT_MULTICLASS" />

      <stat name="keyblade wielder:spellcasting:slots:1" value="2" level="1" />
      <stat name="keyblade wielder:spellcasting:slots:1" value="1" level="2" />
      <stat name="keyblade wielder:spellcasting:slots:1" value="1" level="3" />
      <stat name="keyblade wielder:spellcasting:slots:2" value="2" level="3" />
      <stat name="keyblade wielder:spellcasting:slots:2" value="1" level="4" />
      <stat name="keyblade wielder:spellcasting:slots:3" value="2" level="5" />
      <stat name="keyblade wielder:spellcasting:slots:3" value="1" level="6" />
      <stat name="keyblade wielder:spellcasting:slots:4" value="1" level="7" />
      <stat name="keyblade wielder:spellcasting:slots:4" value="1" level="8" />
      <stat name="keyblade wielder:spellcasting:slots:4" value="1" level="9" />
      <stat name="keyblade wielder:spellcasting:slots:5" value="1" level="9" />
      <stat name="keyblade wielder:spellcasting:slots:5" value="1" level="10" />
      <stat name="keyblade wielder:spellcasting:slots:5" value="1" level="18" />
      <stat name="keyblade wielder:spellcasting:slots:6" value="1" level="11" />
      <stat name="keyblade wielder:spellcasting:slots:6" value="1" level="19" />
      <stat name="keyblade wielder:spellcasting:slots:7" value="1" level="13" />
      <stat name="keyblade wielder:spellcasting:slots:7" value="1" level="20" />
      <stat name="keyblade wielder:spellcasting:slots:8" value="1" level="15" />
      <stat name="keyblade wielder:spellcasting:slots:9" value="1" level="17" />
     
      <select type="Spell" name="Cantrip (keyblade wielder)" supports="$(spellcasting:list),0" level="1" number="4" spellcasting="keyblade wielder" />
      <select type="Spell" name="Cantrip (keyblade wielder)" supports="$(spellcasting:list),0" level="4" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Cantrip (keyblade wielder)" supports="$(spellcasting:list),0" level="10" spellcasting="keyblade wielder"/>
      
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="1" number="2" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="2" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="3" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="4" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="5" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="6" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="7" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="8" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="9" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="10" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="11" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="13" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="15" spellcasting="keyblade wielder"/>
      <select type="Spell" name="Spell (keyblade wielder)" supports="$(spellcasting:list),$(spellcasting:slots)" level="17" spellcasting="keyblade wielder"/>
    </rules>
  </element>
	<element name="Path" type="Class Feature" source="KH" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_PATH">
    <supports>Keyblade Wielder</supports>
    <requirements />
    <description>
      <p>Choose a path, which describes the source of your heart: Light or Dark, both detailed at the end of the class description.</p>
      <p class="indent">Your choice grants you features when you choose it at 1st level and again at 6th, 14th, and 18th level.</p>
    </description>
    <sheet />
    <rules>
      <select type="Archetype" name="Path" supports="Path" />
    </rules>
  </element>
	<element name="Recharge" type="Class Feature" source="KH" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_RECHARGE">
    <supports>Keyblade Wielder</supports>
    <requirements />
    <description>
      <p>At 3rd level, you tap into a deep wellspring of magic within yourself. This wellspring is represented by recharge points, which allow you to trigger a magical recharge.</p>
      <h5>RECHARGE POINTS</h5>
      <p>You have 2 recharge points, and you gain more as you reach higher levels, as shown in the Recharge Points column of the Recharge table. You can never have more recharge points than shown on the table for your level. Using a recharge point takes one of your actions in your turn. You regain all spent recharge points when you finish a long rest.</p>
    </description>
    <sheet>
      <description>You have {{recharge-points}} Recharge Points.</description>
    </sheet>
    <rules>
      <stat name="recharge-points" value="level:recharge" />
    </rules>
  </element>
	<element name="Additional Attack" type="Class Feature" source="KH" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_ADDITIONAL_ATTACK">
    <supports>Keyblade Wielder</supports>
    <requirements />
    <description>
      <p>At 5th level, you gain an additional attack per turn. You gain another one at 10th and 15th level.</p>
    </description>
    <sheet display="true"/>
    <rules>
      <select type="Class Feature" name="Additional Attack" supports="Additional Attack" level="5" />
      <select type="Class Feature" name="Additional Attack" supports="Additional Attack" level="10"/>
      <select type="Class Feature" name="Additional Attack" supports="Additional Attack" level="15"/>
    </rules>
  </element>
	 <element name="Ability Score Improvement" type="Class Feature" source="KH" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_ABILITY_SCORE_IMPROVEMENT_KEYBLADE_WIELDER">
    <supports />
    <description>
      <p>When you reach 4th level, and again at 8th, 12th, 16th, and 19th level, you can increase one ability score of your choice by 2, or you can increase two ability scores of your choice by 1. As normal, you can't increase an ability score above 20 using this feature.</p>
    </description>
    <sheet display="false" />
    <rules>
      <!-- <grant type="Class Feature" id="ID_INTERNAL_CLASS_FEATURE_ASI_4_KEYBLADE_WIELDER" level="4" requirements="!ID_INTERNAL_OPTION_ALLOW_FEATS" />
      <grant type="Class Feature" id="ID_INTERNAL_CLASS_FEATURE_ASI_8_KEYBLADE_WIELDER" level="8" requirements="!ID_INTERNAL_OPTION_ALLOW_FEATS" />
      <grant type="Class Feature" id="ID_INTERNAL_CLASS_FEATURE_ASI_12_KEYBLADE_WIELDER" level="12" requirements="!ID_INTERNAL_OPTION_ALLOW_FEATS" />
      <grant type="Class Feature" id="ID_INTERNAL_CLASS_FEATURE_ASI_16_KEYBLADE_WIELDER" level="16" requirements="!ID_INTERNAL_OPTION_ALLOW_FEATS" />
      <grant type="Class Feature" id="ID_INTERNAL_CLASS_FEATURE_ASI_19_KEYBLADE_WIELDER" level="19" requirements="!ID_INTERNAL_OPTION_ALLOW_FEATS" /> -->
      <select type="Class Feature" name="Improvement Option (Keyblade Wielder 4)" supports="Improvement Option,Keyblade Wielder,4" level="4" />
      <select type="Class Feature" name="Improvement Option (Keyblade Wielder 8)" supports="Improvement Option,Keyblade Wielder,8" level="8" />
      <select type="Class Feature" name="Improvement Option (Keyblade Wielder 12)" supports="Improvement Option,Keyblade Wielder,12" level="12" />
      <select type="Class Feature" name="Improvement Option (Keyblade Wielder 16)" supports="Improvement Option,Keyblade Wielder,16" level="16" />
      <select type="Class Feature" name="Improvement Option (Keyblade Wielder 19)" supports="Improvement Option,Keyblade Wielder,19" level="19" />
    </rules>
  </element>
	<element name="Heart's Release" type="Class Feature" source="KH" id="ID_KH_CLASS_FEATURE_KEYBLADE_WIELDER_HEARTS_RELEASE">
    <supports>Keyblade Wielder</supports>
    <requirements />
    <description>
      <p>At 20th level, you gain your best ability which can only be used once per long rest.</p>
    </description>
    <sheet>
      <description>Heart's release deals damage in a circular area, range of 20ft centred on the user. Damage dealt is determined by rolling a D20 + Charisma modifier.</description>
    </sheet>
    <rules />
  </element>
	
	
	
	  
	  
		
		
	
</elements>
